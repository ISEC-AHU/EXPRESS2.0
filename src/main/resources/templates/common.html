<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="commonheader">

<!--    &lt;!&ndash;common&ndash;&gt;-->
<!--    <link href="css/style.css" th:href="@{/css/style.css}" rel="stylesheet">-->
<!--    <link href="css/style-responsive.css" th:href="@{/css/style-responsive.css}" rel="stylesheet">-->


<!--    &lt;!&ndash; HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries &ndash;&gt;-->
<!--    &lt;!&ndash;[if lt IE 9]>-->
<!--    <script src="js/html5shiv.js" th:src="@{/js/html5shiv.js}"></script>-->
<!--    <script src="js/respond.min.js" th:src="@{/js/respond.min.js}"></script>-->
<!--    <![endif]&ndash;&gt;-->

    <!--common-->
    <link href="/css/style.css" rel="stylesheet" th:src="@{/css/style.css}">
    <link href="/css/style-responsive.css" rel="stylesheet" th:src="@{/css/style-responsive.css}">




    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

    <style>
        .toast {
            display: none;
            position: fixed;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 18rem;
            height: 18rem;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0,0,0,0.2);
            border-radius: 1rem;
            color: #f0f0f0;
            font-size: 2.5rem;
        }

        .load {
            display: inline-block;
            margin-bottom: 1.5rem;
            height: 4rem;
            width: 4rem;
            border: 0.4rem solid transparent;
            border-top-color: white;
            border-left-color: white;
            border-bottom-color: white;
            animation: circle 1s infinite linear;
            -webkit-animation: circle 1s infinite linear; /* Safari 和 Chrome */
            border-radius: 50%
        }
        @-webkit-keyframes circle {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(-360deg)
            }
        }
    </style>

</head>

<body>
    <!-- left side start-->
    <div th:fragment="leftmenu" class="left-side sticky-left-side">

        <div class="logo text-center">
            <h3 class="logo" style="color: white;margin: 0px;line-height: 50px;padding: 0px;">EXPRESS 2.0</h3>
        </div>
        <!--        <div class="logo">-->
        <!--            <a href="index.html"><img src="images/logo.png" alt=""></a>-->
        <!--        </div>-->
        <div class="logo-icon text-center">
            <a href="main.html"><img src="/images/logo_icon.png" alt=""></a>
        </div>

        <div class="left-side-inner">


            <!--sidebar nav start-->
            <ul class="nav nav-pills nav-stacked custom-nav">
                <li id="main"><a href="/main.html"><i class="fa fa-home"></i> <span>Home</span></a></li>
                <li id="order"><a th:href="@{/orders}"><i class="fa fa-book"></i> <span>Order Management</span></a></li>
                <li id="ai"><a th:href="@{/ai}"><i class="fa fa-laptop"></i> <span>AI APP Management</span></a></li>
                <li id="security"><a th:href="@{/safety}"><i class="fa fa-lock"></i> <span>Security Management</span></a></li>
<!--                <li><a th:href="@{/}"><i class="fa fa-sign-in"></i> <span>Log Out</span></a></li>-->
            </ul>
            <!--sidebar nav end-->

        </div>
    </div>
    <!-- left side end-->

    <!-- header section start-->
    <div th:fragment="headermenu" class="header-section">

        <!--toggle button start-->
        <a class="toggle-btn"><i class="fa fa-bars"></i></a>
        <!--toggle button end-->

        <!--search start-->
        <form class="searchform" action="main.html" method="get">
            <input type="text" class="form-control" name="keyword" placeholder="Search here..."/>
        </form>

<!--        <form id="uploadForm"  action="" method="post" enctype="multipart/form-data">-->
<!--            <input type="file" name="uploadFile" id="uploadFile" style="visibility:hidden;position:absolute;top:0px;width:0px"/>&lt;!&ndash;隐藏默认标签样式&ndash;&gt;-->
<!--        </form>-->
<!--        <input type="button" value="上传" id="btn"/>-->

        <div class="toast" id="toast">
            <span class="load"></span>
            <span>analysing...</span>
        </div>
<!--        <form action="" method="post">-->
<!--            <input type="button" value="开始检测" id="submit">-->
<!--        </form>-->

        <!--search th:action="@{/ajax/uploadFile}"  end-->
        <form id="form" class="col-md-2" style="margin-right: 40px;line-height: 50px;" th:target="frame" enctype="multipart/form-data" method="post">
            <input style="visibility: hidden;margin-left: 70px" name="file" type="file" id="file">
            <div class="col-md-12" style="height: 100%;">
<!--                <input type="button" value="上传" id="btn"/>-->
                <button id="btn" class="btn btn-info" style="position: absolute;top: -40px;z-index: 100;padding: 0 8px 0 8px;height: 30px;">Upload Workflow</button>
            </div>
        </form>
        <iframe style="display: none" src="" fragment="0" name="frame"></iframe>
        <!--notification menu start -->
        <div class="menu-right">
            <ul class="notification-menu">
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-tasks"></i>
                        <span class="badge">8</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">You have 8 pending task</h5>
                        <ul class="dropdown-list user-list">
                            <li class="new">
                                <a href="#">
                                    <div class="task-info">
                                        <div>Database update</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 40%" aria-valuemax="100" aria-valuemin="0"
                                             aria-valuenow="40" role="progressbar"
                                             class="progress-bar progress-bar-warning">
                                            <span class="">40%</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="new">
                                <a href="#">
                                    <div class="task-info">
                                        <div>Dashboard done</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 90%" aria-valuemax="100" aria-valuemin="0"
                                             aria-valuenow="90" role="progressbar"
                                             class="progress-bar progress-bar-success">
                                            <span class="">90%</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Web Development</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 66%" aria-valuemax="100" aria-valuemin="0"
                                             aria-valuenow="66" role="progressbar"
                                             class="progress-bar progress-bar-info">
                                            <span class="">66% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Mobile App</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 33%" aria-valuemax="100" aria-valuemin="0"
                                             aria-valuenow="33" role="progressbar"
                                             class="progress-bar progress-bar-danger">
                                            <span class="">33% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Issues fixed</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 80%" aria-valuemax="100" aria-valuemin="0"
                                             aria-valuenow="80" role="progressbar" class="progress-bar">
                                            <span class="">80% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="new"><a href="">See All Pending Task</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-envelope-o"></i>
                        <span class="badge">5</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">You have 5 Mails </h5>
                        <ul class="dropdown-list normal-list">
                            <li class="new">
                                <a href="">
                                    <span class="thumb"><img src="/images/photos/user1.png" alt=""/></span>
                                    <span class="desc">
                                          <span class="name">John Doe <span
                                                  class="badge badge-success">new</span></span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="/images/photos/user2.png" alt=""/></span>
                                    <span class="desc">
                                          <span class="name">Jonathan Smith</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="/images/photos/user3.png" alt=""/></span>
                                    <span class="desc">
                                          <span class="name">Jane Doe</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="/images/photos/user4.png" alt=""/></span>
                                    <span class="desc">
                                          <span class="name">Mark Henry</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="/images/photos/user5.png" alt=""/></span>
                                    <span class="desc">
                                          <span class="name">Jim Doe</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li class="new"><a href="">Read All Mails</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-bell-o"></i>
                        <span class="badge">4</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">Notifications</h5>
                        <ul class="dropdown-list normal-list">
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #1 overloaded.  </span>
                                    <em class="small">34 mins</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #3 overloaded.  </span>
                                    <em class="small">1 hrs</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #5 overloaded.  </span>
                                    <em class="small">4 hrs</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #31 overloaded.  </span>
                                    <em class="small">4 hrs</em>
                                </a>
                            </li>
                            <li class="new"><a href="">See All Notifications</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <img src="/images/photos/user-avatar.png" alt=""/>
                        Admin
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-usermenu pull-right">
                        <li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                        <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                        <li><a href="#"><i class="fa fa-sign-out"></i> Log Out</a></li>
                    </ul>
                </li>

            </ul>
        </div>
        <!--notification menu end -->

    </div>

<div th:fragment="commonscript">
<!-- Placed js at the end of the document so the pages load faster -->
    <script src="/js/jquery-1.10.2.min.js" th:src="@{/js/jquery-1.10.2.min.js}"></script>
    <script src="/js/jquery-ui-1.9.2.custom.min.js" th:src="@{/js/jquery-ui-1.9.2.custom.min.js}"></script>
    <script src="/js/jquery-migrate-1.2.1.min.js" th:src="@{/js/jquery-migrate-1.2.1.min.js}"></script>
    <script src="/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
    <script src="/js/modernizr.min.js" th:src="@{/js/modernizr.min.js}"></script>
    <script src="/js/jquery.nicescroll.js" th:src="@{/js/jquery.nicescroll.js}"></script>
    <script src="/js/scripts.js" th:src="@{/js/scripts.js}"></script>
<script>

    // var submit = document.getElementById("btn");
    // var toast = document.getElementById("toast");
    // submit.onclick = function () {
    //     toast.style.display = "flex";
    // }
    $('.nav>li').click(function (){
        console.log(this);
        $(this).addClass("active").siblings().removeClass("active");
        // let index = $(this).index();
        // $(".Content>div").eq(index).show().siblings().hide();
    })

    $(function () {
        $('#btn').click(function () {
            $('#file').click();
        });
        $('#file').change(function () {
            toast.style.display = "flex";
            setTimeout(function(){toast.style.display = "none"},2000);
            selectFile();
            file.style.visibility = "visible";
        });
    });

    function selectFile() {

        var formData = new FormData($('#form')[0]);
        $.ajax({
            url: "/ajax/uploadFile",
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (data) {
                if (data == "1") {
                    setTimeout(function(){alert("operate successfully!")},2050);
                }
        },
    });


        // const files = $('#exampleInputFile')[0].files[0]; //单个
        // const data = new FormData();
        // data.append('uploadFile', files[0]);
        // $.ajax({
        //     url: "/ajax/uploadFile",
        //     type: "post",
        //     data: data,
        //     cache: false,
        //     processData: false,
        //     contentType: false,
        //     success: function (data) {
        //         if (data == "1") {
        //             alert("upload success!")
        //         }
        //     }
        // })
    }
</script>
</div>
</body>
</html>
